# 数据库脚本使用说明

## 脚本文件说明

### 1. `fix_experts_table.sql`
- **功能**: 修复专家表结构，重新创建评审管理相关表
- **包含表**: experts（专家表）、judge_assignments（评审分配表）、contest_results（竞赛结果表）

### 2. `insert_test_data.sql`
- **功能**: 插入完整的测试数据
- **包含数据**: 
  - 3个赛事数据
  - 6名专家数据
  - 评审分配数据
  - 竞赛结果数据
  - 8名学生基础数据
  - 报名申请数据
  - 团队数据和团队成员数据

### 3. `insert_more_students.sql` ⭐ **新增**
- **功能**: 为学生表添加更多丰富的测试数据
- **包含数据**: 30名新学生，涵盖多个专业和年级
- **数据特点**:
  - 涵盖计算机、理工、数学、经管、文艺、医学等多个学科
  - 包含本科生（大一到大四）和研究生
  - 真实的技能标签和成就记录
  - 合理的绩点分布（3.0-4.0）

## 使用方法

### 方法一：命令行执行
```bash
# 1. 首先修复表结构（如果需要）
mysql -u root -p competition_system < fix_experts_table.sql

# 2. 插入基础测试数据
mysql -u root -p competition_system < insert_test_data.sql

# 3. 添加更多学生数据
mysql -u root -p competition_system < insert_more_students.sql
```

### 方法二：MySQL客户端执行
```sql
-- 连接到数据库
USE competition_system;

-- 执行脚本内容（复制粘贴SQL内容）
SOURCE /path/to/insert_more_students.sql;
```

## 数据统计

执行 `insert_more_students.sql` 后，学生数据统计：

- **学生总数**: 38名（原8名 + 新增30名）
- **年级分布**: 
  - 大一: 1名
  - 大二: 12名  
  - 大三: 15名
  - 大四: 6名
  - 研一: 2名
  - 研二: 2名

- **专业分布**: 涵盖20+个不同专业
- **绩点分布**: 
  - 优秀(3.8+): 约40%
  - 良好(3.5-3.8): 约45%
  - 中等(3.0-3.5): 约15%

## 注意事项

1. **执行顺序**: 建议按照上述顺序执行脚本
2. **数据清理**: `insert_test_data.sql` 会清空现有数据，请谨慎使用
3. **字符编码**: 确保数据库使用 `utf8mb4` 编码以支持中文和emoji
4. **外键约束**: 脚本中包含外键约束的处理，确保数据完整性

## 数据特色

新增的学生数据具有以下特色：
- ✅ **真实性**: 使用真实的专业名称、技能标签和成就描述
- ✅ **多样性**: 涵盖理工科、文科、艺术、医学等多个领域
- ✅ **层次性**: 包含不同年级和学历层次的学生
- ✅ **完整性**: 每个学生都有完整的个人信息和技能档案
- ✅ **可用性**: 数据可直接用于测试各种业务场景

## 后续扩展

如需添加更多数据，可以参考 `insert_more_students.sql` 的格式，继续添加：
- 更多专业的学生
- 不同地区的学生信息  
- 更多样化的技能组合
- 丰富的竞赛经历和成就
